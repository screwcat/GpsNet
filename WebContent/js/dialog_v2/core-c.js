function parseAddress(e,t,r){"undefined"==typeof google?(mqaParseAddress.arr=r,mqaParseAddress(e,t,r)):(null==geocoder&&(geocoder=new google.maps.Geocoder),r="string"==typeof r?document.getElementById(r):r,r.nodeType&&geocoder.geocode({address:e+","+t},function(e,t){_str=" ",_str=t==google.maps.GeocoderStatus.OK?e[0].formatted_address:lg.noAddress,r.innerHTML=_str,r.setAttribute("title",_str)}))}function mqaParseAddress(e,t){_.ajax.jsonp("http://open.mapquestapi.com/nominatim/v1/reverse?format=json&json_callback=mqaParseAddressCallback&lat="+e+"&lon="+t)}function mqaParseAddressCallback(e){var t=mqaParseAddress.arr;t="string"==typeof t?document.getElementById(t):t;var r="";e&&e.display_name&&(r=e.display_name),t.innerHTML=r,t.setAttribute("title",r)}function getHangXiang(e,t){if(0>t||""==e)return"......";for(var r=5,n=10,a=30,i=lg.hangxiang,s=[r,n,n,a,90-a,90-r,90-n,90+n,90+a,180-a,180-r,180-n,180+n,180+a,270-a,270-r,270-n,270+n,270+a,360-a],o=[360-r,360-n,a,90-a,90-n,90+r,90+n,90+a,180-a,180-n,180+r,180+n,180+a,270-a,270-n,270+r,270+n,270+a,360-a,360-n],u=0;u<s.length;u++)if(0==u||1==u){if(o[u]<=e||e<=s[u])return i[u]}else if(s[u]<=e&&e<=o[u])return i[u];return e}function exchangeTime(e){var t,r,n,a;t=Math.round(e/86400+.5)-1,r=Math.round((e-86400*t)/3600+.5)-1,n=Math.round((e-86400*t-3600*r)/60+.5)-1,a=Math.round(e-86400*t-3600*r-60*n);var i="";return t>0&&(i=i+t+lg.d),r>0&&(i=i+r+lg.h),n>0&&(i=i+n+lg.m,t>0)?i:(a>0&&(i=i+a+lg.s),i)}function getTimeDiff(e,t){var r=0,n=typeof e;return"number"==n?r=e-t:"string"==n&&(r=new Date(e.toString().split(".")[0].replace(/-/g,"/"))-new Date(t.toString().split(".")[0].replace(/-/g,"/"))),0>r?1:r/1e3}function getRoom(e){for(var t=new Array(0,1,2,3,4,5,6,7,8,9,10,11,12,13,14),r=new Array(360,180,90,45,22,11,5,2.5,1.25,.6,.3,.15,.07,.03,0),n=0;n<r.length;n++)if(e-r[n]>=0)return t[n];return 14}function mouseCoords(e){e=e||window.event,(e.pageX||e.pageY)&&(mousePos={x:e.pageX+10,y:e.pageY+10}),mousePos={x:e.clientX+document.documentElement.scrollLeft-document.body.clientLeft+10,y:e.clientY+document.documentElement.scrollTop-document.body.clientTop+10}}function getStatic(e,t,r,n){var a=getTimeDiff(t,r),n=getTimeDiff(t,n),i=getTimeDiff(t,r);return n>i&&(n=i),[n,a]}function getCenterPoint(e,t,r,n){if(e==t&&r==n)return[e,r,0];var a=e-t;r-n>a&&(a=r-n),a=parseInt(1e4*a)/1e4;var i=1e6*t+1e6*(e-t)/2,s=1e6*n+1e6*(r-n)/2;return[i/1e6,s/1e6,a]}function status_(e,t,r,n,a,i){t=Number(t),i=Number(i)||80;var s=86400,o=-604800,u=1500,g=!1;if(n>7*s&&-9!=t)return g=!0,["white",lg.arrear,0,!1,g];var l=lstatusWord="-1";if(7*s>=n&&n>0&&-9!=t){var d=parseInt(n/s);l=lg.serviceEnd[0]+d+lg.d,0==d&&(l=lg.serviceEnd[4]),g=!0}if(0>=n&&n>o&&-9!=t){var d=Math.abs(Math.round(n/86400+.5)-1);l=d+lg.serviceEnd[2],0==d&&(l=lg.serviceEnd[3]),g=!0}if("-1"==l&&e>1800&&-9!=t){var c=lg.srun1;l=3600>e?c+Math.floor(e/60)+_.trim(lg.m2):86400>e?c+Math.floor(e/3600)+_.trim(lg.h):5184e3>e?c+Math.floor(e/86400)+_.trim(lg.d):c+">60"+_.trim(lg.d)}if(-9==t&&e>u)return["white","-1"==l?lg.srun0:l,0,!1,g];if(-9==t&&u>=e)return["gray","-1"==l?lg.srun2:l,0,!0,g];if(0>t&&-1!=t||e>u)return["white","-1"==l?lg.srun1:l,0,!1,g];if(r>35)return["gray","-1"==l?lg.srun2:l,0,!0,g];if(a){if(0==t)return["gray","-1"==l?lg.srun2:l,0,!0,g];if(t>0&&80>=t)return["green","-1"==l?lg.srun3:l,t,!0,g]}else{if(t>=0&&t<speedForStill[1])return["gray","-1"==l?lg.srun2:l,0,!0,g];if(t>=speedForStill[1]&&i>=t)return["green","-1"==l?lg.srun3:l,t,!0,g]}return t>i&&1.5*i>=t?["yellow","-1"==l?lg.srun4:l,t,!0,g]:t>1.5*i?["red","-1"==l?lg.srun5:lstatusWord,t,!0,g]:-1==t?u>=e?["gray","-1"==l?lg.srun2:l,0,!0,g]:["white","-1"==l?lg.srun1:l,0,!1,g]:["white",lg.srun7,0,!1,g]}function newStatus_(e,t,r,n,a,i){a=Number(a),e=e.split(""),i=Number(i)||80;var s=86400,o=-604800,u=!1,g="-1";if(0===t&&"0"==e[0])return["white","-1"==g?lg.srun0:g,0,!1,u];var l=parseInt(n/s);if(1===t){if(n>7*s)return u=!0,["white",lg.arrear,0,!1,u];7*s>=n&&n>0&&(l=parseInt(n/s),g=lg.serviceEnd[0]+l+lg.d,0==l&&(g=lg.serviceEnd[4]),u=!0),0>=n&&n>o&&(l=Math.abs(Math.round(n/86400+.5)-1),g=l+lg.serviceEnd[2],0==l&&(g=lg.serviceEnd[3]),u=!0)}if("0"==e[0]&&"-1"==g){var d=lg.srun1;g=3600>r?d+Math.ceil(r/60)+_.trim(lg.m2):86400>r?d+Math.floor(r/3600)+_.trim(lg.h):5184e3>r?d+Math.floor(r/86400)+_.trim(lg.d):d+">60"+_.trim(lg.d)}return"0"==e[0]?["white","-1"==g?lg.srun1:g,0,!1,u]:"0"==e[1]?["gray","-1"==g?lg.srun2:g,0,!0,u]:a>=0&&i>=a?["green","-1"==g?lg.srun3:g,a,!0,u]:a>i&&1.5*i>=a?["yellow","-1"==g?lg.srun4:g,a,!0,u]:a>1.5*i?["red","-1"==g?lg.srun5:g,a,!0,u]:["white",lg.srun7,0,!1,u]}function direction(e,t,r){var n="west";return("2"==String(t).charAt(0)||"3"==String(t).charAt(0))&&(e=Number(e),r=Number(r),-1==e?n="west":45>=r||r>315?n="north":r>45&&135>=r?n="east":r>135&&225>=r?n="south":r>225&&315>=r&&(n="west")),n}function getIconURL(e,t,r){"string"!=typeof e&&(e=parseInt(e),e=10>e?"0"+e:String(e));var n="green_01.gif?t=140212.1517";return n="2"==e.charAt(0)||"3"==e.charAt(0)?t+"_"+r+"_"+e+".gif?t=140310.0929":t+"_"+e+".gif?t=140212.1517"}function getAccStatus(e,t,r){if("undefined"==typeof r||"GT06"==r.data.product_type){var n=parseInt(e.substr(0,2),16),a=n.toString(2);return a.length<2||"0"==a.substr(a.length-2,1)?lg.off:lg.on}return"..."}function getDeviceStatus(e,t){var r=parseInt(e.substr(0,2),16),n=r.toString(2),a=n.length-1-t,i=0>a||"0"==n.substr(a,1);return 0==t?i?lg.guardOpt1:lg.guardOpt2:7==t?i?lg.oilOpt1:lg.oilOpt2:2==t?i?lg.chargerOpt1:lg.chargerOpt2:"..."}function getDeviceStatusStandard(e,t){if(!e||32!=e.length)return"...";var r=parseInt(e.substr(6,2),16).toString(2),n={"01":[!1,lg.off,lg.on],23:[!1,lg.guardOpt1,lg.guardOpt2],45:[!1,lg.oilOpt1,lg.oilOpt2],67:[!1,lg.chargerOpt1,lg.chargerOpt2]},a=function(e){var t=0;return"10"===e?t=1:"11"===e&&(t=2),t};return n[t]?(r=("00000000"+r).slice(-8),n[t][a(r.substr(6-t.substr(0,1),2))]):"..."}function getPower(e){if(!e||32!=e.length)return"...";var t=parseInt(e.substr(2,2),16),r={6:"100%",5:"80%",4:"65%",3:"50%",2:"30%",1:"15%",0:"5%"};return r[t]}function getGpsOrLbs(e){return-1==e?lg.lbs:lg.gps}function loadFile(e,t,r){var n=document.getElementsByTagName("HEAD").item(0);if(isArray(e)){"undefined"==typeof t&&(t=[]),"undefined"==typeof r&&(r=[]);for(var a=0;a<e.length;a++){var i=loadOneFile(e[a],t[a],r[a]);n.appendChild(i)}}else{var i=loadOneFile(e,t,r);n.appendChild(i)}}function loadOneFile(e,t,r){var n=document.createElement("script");n.type="text/javascript";var a="";return"undefined"!=typeof t&&(n.id=t),"undefined"!=typeof r&&(a=e.indexOf("?")>-1?"&callback="+r+"&t="+(new Date).getTime():"?callback="+r+"&t="+(new Date).getTime()),n.src=e+a,n}function deleteFile(e){for(var t;t=document.getElementById(e);)_.dom.remove(t)}function isArray(e){var t=Object.prototype.toString;return"[object Array]"===t.apply(e)}function distance(e,t,r,n,a){var i=6378.137,s=(r-e)*Math.PI/180,o=(n-t)*Math.PI/180,u=Math.sin(s/2)*Math.sin(s/2)+Math.cos(e*Math.PI/180)*Math.cos(r*Math.PI/180)*Math.sin(o/2)*Math.sin(o/2),g=2*Math.atan2(Math.sqrt(u),Math.sqrt(1-u)),l=i*g;return l+a}function formatKm2M(e){return e>1?Math.round(1e3*e)/1e3+lg.km:1>=e?Math.round(1e3*e)+lg.mi:void 0}function parseGt06Staust(e){if(e+="","undefined"==typeof e)return lg.sdw0;var t=parseInt(e.substr(0,2),16),r=t.toString(2);return r.length<7||7==r.length&&"0"==r.substr(0,1)||8==r.length&&"0"==r.substr(1,1)?lg.sdw0:lg.sdw1}function parseLocateStatusStandard(e){var t=lg.sdw0;return e&&32==e.length?(e+="",e=parseInt(e.substr(0,2),16).toString(2),e=("00"+e).slice(-2),("01"==e||"02"==e)&&(t=lg.sdw1),t):t}function getInterceptedStr(e,t){if(e=String(e),e.replace(/[^\x00-\xff]/g,"xx").length<=t)return e;for(var r,n="",a=0,i=0;r=e.charAt(i);i++)if(n+=r,a+=null!=r.match(/[^\x00-\xff]/)?2:1,a>=t){n+="....";break}return n}function utcToLocal(e){if(isNaN(Number(e)))return e;var t=new Date(Number(e)),r=t.getMonth()+1;d=[t.getFullYear(),r>9?r:"0"+r,t.getDate()>9?t.getDate():"0"+t.getDate()].join("/");var n=t.getMinutes(),a=t.getSeconds();return d+=" "+[t.getHours(),n>9?n:"0"+n,a>9?a:"0"+a].join(":")}function localToUtc(e){return isNaN(Number(e))?new Date(e.replace(/\-/g,"/")).getTime():e}var speedForStill=[4,5],mousePos={x:0,y:0},geocoder=null;window.isIE=window.ActiveXObject?!0:!1,function(){var e=navigator.userAgent.toLowerCase(),t=function(t){return t.test(e)};window.isIE7=isIE&&t(/msie 7/),window.isIE8=isIE&&t(/msie 8/),window.isIE6=isIE&&!isIE7&&!isIE8}();